<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta name="title" content="AEC Library is a comprehensive library management system">
  <meta name="description" content="Designed for both large and small library systems, AEC Library is a comprehensive library management system. For managing circulation and stock, this is ideal for institutional, public, and digital libraries. In order to manage and automate the processing of even the largest of libraries, the AEC Library website was developed. According to the end user's requirements, the website is capable of managing Book Issues, Returns, and generating various Reports for Record-Keeping and Review purposes.">
  <meta name="keywords" content="AEC, library systems, library, digital libraries, books">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="language" content="English">
  <meta name="author" content="AEC LIBRARY">
  <script type="module" src="https://cdn.jsdelivr.net/npm/ionicons@latest/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://cdn.jsdelivr.net/npm/ionicons@latest/dist/ionicons/ionicons.js"></script>
  <!-- Bootstrap v4.3 -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" />

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css"
    integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous" />

  <link rel="stylesheet" href="../assets/css/inscription.css">

  <link rel="icon" href=../assets/Favicons/8.webp> <title>inscription</title>
  <style>
   
  table {
  border-collapse: collapse;
  width: 100%;
}

th, td {
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {background-color: #f2f2f2;}
  </style>

</head>

<body>
  <!-- particle.js -->
  <div id="particles-js"></div>

  <nav class="navbar navbar-expand-lg navbar-dark bg-info">
    <a class="navbar-brand ml-4" href="../index2.php"><img src="../assets/logos/finalLogo.webp" alt="AEC Library"
        class="logo-img"></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="../index2.php"><i class="fas fa-home"></i> Acceuil <span
              class="sr-only">(current)</span></a>
                 </li>
                <li class="nav-item"><a href="../QuiSommes-Nous.phtml" class="nav-link"> <i class="fas fa-book"></i> Qui Sommes-Nous? </a></li>
                <li class="nav-item"><a href="login.php" class="nav-link"> <i
                    class="fas fa-sign-in-alt"></i> Se connecter </a></li>
              <li class="nav-item"><a href="inscription.php" class="nav-link"> <i
                    class="fas fa-sign-in-alt"></i> Inscription </a></li>
              <li class="nav-item">
                <a href="../index2.php#propositions" class="nav-link">
                  <i class="fas fa-address-book"></i> Propositions
                </a>
              </li>

        
      </ul>
    </div>
  </nav>

  <div class="wrapper">
    <div class="login-box">
        <h2>Inscription adherent&nbsp;&nbsp;<ion-icon name="people-circle-outline"></ion-icon></h2>
        <?php if (!empty($errors) && is_array($errors)): ?>
            <div class="error-messages">
                <ul>
                    <?php foreach ($errors as $error): ?>
                        <li style="color:white;"><?= htmlspecialchars($error) ?></li>
                    <?php endforeach; ?>
                </ul>
            </div>
        <?php endif; ?>

        <form id="donation_form" method="post" action="" enctype="multipart/form-data">
            <div class="user-box">
                <input class="form__input form-control" type="text" name="nom" required="">
                <label>Nom</label>
            </div>
            <br>
            <div class="user-box">
                <input class="form__input form-control" type="text" name="prenom" required="">
                <label>Prenom</label>
            </div>
            <br>
            <div class="user-box">
                <input class="form__input form-control" type="email" name="email" required="">
                <label>Email</label>
            </div>
            <br>
            <div class="user-box">
                <input class="form__input form-control" type="password" name="password" required="">
                <label>Password</label>
            </div>
            <br>
            <div class="user-box">
                <input class="form__input form-control" type="tel" name="tel" required="">
                <label>Telephone</label>
            </div>
            <br>
            <div class="user-box">
                <input class="form__input form-control" type="file" name="file" required="">
            </div>
            <br>
            <div class="form-check">
                <input type="checkbox" class="form-control form-check-input form-checkbox" id="gridCheck" checked required>
                <label class="form-check-label" for="gridCheck">J'ai lu et accepté les</label>
            </div>
            <input type="submit" class="submit-btn" value="S'inscrire">
            <button class="reset-btn" type="reset">Reset</button>
        </form>
    </div>
</div>


    <script>
      function resetFunction(){
        document.getElementById("donation_form").reset();
      }
    </script>

  <!-- adding name,image,name of book of people who made donation -->   <!-- here -->

  <footer>
    <div class="d-flex justify-content-between align-items-center">
      <div class="icons">
        <ul>
          <li>
            <a href="https://www.linkedin.com/in/sauravmukherjee44/" target="_blank" title="LinkedIn" rel="noopener noreferrer" aria-label="Follow us on LinkedIn"><i class="fab fa-linkedin-in icon"></i></a>
          </li>
          <li>
            <a href="https://github.com/SauravMukherjee44" target="_blank" title="GitHub" rel="noopener noreferrer" aria-label="Follow us on GitHub"> <i class="fab fa-github icon"></i> </a>
          </li>
          <li>
            <a href="https://twitter.com/mesourav44" target="_blank" title="Twitter" rel="noopener noreferrer" aria-label="Follow us on Twitter"><i class="fab fa-twitter icon"></i></a>
          </li>
          <li>
            <a href="https://www.youtube.com/channel/UCYGVtIgQIAChKBWBmChxzJw" target="_blank" title="YouTube" rel="noopener noreferrer" aria-label="Follow us on YouTube"><i class="fab fa-youtube icon"></i></a>
          </li>
        </ul>
      </div>
      <div>
        <p>©2023 Copyright AEC Library</p>
      </div>
      <div>
        <p>
          <a href="contact us .html" class="footer-text">Contact Us</a>
          &emsp;&emsp;
        </p>
      </div>
    </div>
  </footer>

  <!-- scripts -->

  <script src="../assets/js/Donate_Book.js"></script>

  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous">
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous">
  </script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous">
  </script>
  <script>
    window.onload = function () {
      document.getElementById('loading').style.display = "none";
      document.getElementById('container').style.display = "block";
    }
    particlesJS.load("particles-js", "../assets/js/config.json", function () {
      console.log("callback - particles.js config loaded");
    });
  </script>
<script src="https://unpkg.com/@supabase/supabase-js"></script>
  <script>
  const donationForm = document.getElementById('donation_form');
  const { createClient } = supabase
  const supabaseUrl = `https://cvhyilfsattdglfdmvcu.supabase.co`
  const supabaseAnonKey = `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN2aHlpbGZzYXR0ZGdsZmRtdmN1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2NDQ1NTE5MTksImV4cCI6MTk2MDEyNzkxOX0.wvKZxYcBbeUy9aJTw3XzbySmBJ8PkxVGXeopoucQpGY`

  const _supabase = createClient(supabaseUrl, supabaseAnonKey);

  const donatedBook = document.querySelector('.donated_book');
  function validate_phone(input){
    var phone = /^\d{10}$/;
    if(input.value.match(phone)){
      return true;
    }
    /*else{
      alert("Please enter a valid phone number")
      return false;
    }*/

  }

  function reset_form(){
    document.getElementById("donation_form").reset();

  }

  /*donationForm.addEventListener('submit',e=>{
    if(validate_phone(document.getElementById('contact'))){
    e.preventDefault();
    const { data, error } = _supabase
      .from('donated_book')
      .insert([
        {
          email:document.getElementById('email').value,
          name:document.getElementById('name').value,
          contact : document.getElementById('contact').value,
          address : document.getElementById('address').value,
          country : document.querySelector('.country').value,
          city : document.querySelector('.city').value,
          zip : document.getElementById('zip').value,
        }
      ]).then(res=>{
        console.log(res);
        if(res.error){
          alert(res.error.message);
        }
        else{
        alert('Data Added');
        reset_form();
        }
      })
  }
  else{
    alert("Please enter a valid phone number")
  }
    })
*/
  </script>

<div id="topBtn" title="Navigate to Top Button">
  <a href="#"><span class="fa fa-angle-up"></span></a>
</div>
<!-- Navigate to Top Button  -->
<script>
  $(document).ready(function () {
      $(window).scroll(function () {
          if ($(window).scrollTop() > 40) {
              $('#topBtn').css({
                  "opacity": "1", "pointer-events": "auto"
              });
          } else {
              $('#topBtn').css({
                  "opacity": "0", "pointer-events": "none"
              });
          }
      });

      $("#topBtn").click(function () {
          $('html ,body').animate({ scrollTop: 0 }, 400);
      });
  });
</script>


<script>
  const name = document.getElementById('name');
  const email = document.getElementById('email');
  const contact = document.getElementById('contact');
  const address = document.getElementById('address');
  const country = document.getElementById('countySel');
  const state = document.getElementById('stateSel');
  const city = document.getElementById('districtSel');
  const zip = document.getElementById('zip');
  const grid = document.getElementById('gridCheck');

  function validateIssue(){

    console.log("called");
    if(checkInputs())
    return true;
    else
    return false;

  }

  function checkInputs()
  {
       //get values from input fields
       const nameval = name.value.trim();
       const emailval = email.value.trim();
       const contactval = contact.value.trim();
       const addressval = address.value.trim();
       const countryval = country.value.trim();
       const stateval = state.value.trim();
       const cityval = city.value.trim();
       const zipval = zip.value.trim();
     
       if(nameval === '')
       { setErrorFor(name,'Please enter a Book Name');}
       else
       { setSuccessFor(name);}

       if(emailval === '')
       { setErrorFor(email,'Please enter a E-mail');}
       else
       {
            if(!validEmail(emailval))
          { setErrorFor(email,'Please enter a valid E-mail');}
            else
           { setSuccessFor(email);}
       }

           if(contactval == ""){
        setErrorFor(contact,"Please enter a contact no");
        }else{

          if(!validPhone(contactval))
          { setErrorFor(contact,'Please enter a valid 10 digit contact no');}
            else
           {  setSuccessFor(contact);}

        }


      if(addressval == ""){
        setErrorFor(address,"Please enter address");
        }else{
        setSuccessFor(address);
      }

      if(countryval == ""){
        setErrorFor(country,"Please select country");
        }else{
        setSuccessFor(country);
      }

      if(stateval == ""){
        setErrorFor(state,"Please select state");
        }else{
        setSuccessFor(state);
      }

      if(cityval == ""){
        setErrorFor(city,"Please select city");
        }else{
        setSuccessFor(city);
      }


      if(zipval == ""){
        setErrorFor(zip,"Please enter zip");
        }else{
        setSuccessFor(zip);
      }

      

       if(nameval!='' && emailval!='' && contactval!='' && addressval!='' &&  countryval !== '' && stateval !== '' && cityval!='' && zipval != '') 
       { 
         return true; 
        }

  }

  function validEmail(email) {
  const res = /^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/;
  return res.test(String(email).toLowerCase());
}

function validPhone(phone)
{
  var phoneno = /^\d{10}$/;
  if((phone.match(phoneno)))
  return true;
  else
  return false;
}

  function setErrorFor(input,showerror)
  {
    let formControl = input.parentElement;
   // console.log(formControl);

    const small = formControl.querySelector('small');
    small.innerText = showerror;

    formControl.classList.remove('success');
    formControl.classList.add('error');
    //console.log(showerror);

  }

  function setSuccessFor(input)
  {
    let formControl = input.parentElement;
    formControl.classList.remove('error');
    formControl.classList.add('success');
  }
  </script>
</body>
 <script src="../assets/js/Donate_Book.js"></script>
</html>
